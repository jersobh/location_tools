(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["1bdb053e"],{8041:function(t,o,n){"use strict";var e=n("cddb"),i=n.n(e);i.a},"8b24":function(t,o,n){"use strict";n.r(o);var e=function(){var t=this,o=t.$createElement,n=t._self._c||o;return n("q-page",{staticClass:"flex flex-center"},[t.isTracking?t._e():n("q-btn",{staticStyle:{position:"fixed","z-index":"10000",right:"30px",top:"10px",width:"62px",height:"62px"},attrs:{round:"",icon:"my_location",color:"red",big:""},on:{click:t.startTracking}}),t.isTracking?n("q-btn",{staticStyle:{position:"fixed","z-index":"10000",right:"30px",top:"10px",width:"62px",height:"62px"},attrs:{round:"",icon:"stop",color:"red",big:""},on:{click:t.stopTracking}}):t._e(),n("l-map",{staticStyle:{height:"calc(100vh - 70px)"},attrs:{zoom:t.zoom,center:t.center,options:t.mapOptions},on:{"update:center":t.centerUpdate,"update:zoom":t.zoomUpdate,click:t.clickMap}},[n("l-tile-layer",{attrs:{url:t.url,attribution:t.attribution}}),t._l(t.people,function(o){return n("l-marker",{key:o.id,attrs:{"lat-lng":o.location}},[n("l-icon",{attrs:{"icon-size":[32,32],"icon-anchor":[16,32],"icon-url":"statics/icons/person.png"}}),n("l-popup",{staticStyle:{width:"100px"},attrs:{options:{permanent:!0,interactive:!0}}},[n("div",{on:{click:function(t){o.showInfo=!o.showInfo}}},[t._v("\n          "+t._s(o.name)+"\n          "),n("p",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[n("img",{staticStyle:{"max-width":"100px"},attrs:{src:o.photo||"https://myrealdomain.com/images/icone-pessoa-png-6.png"}}),n("br"),t._v("\n            Contato (familiar):"),n("br"),t._v(" "+t._s(o.phone)+"\n            "),n("br"),n("q-btn",{on:{click:function(n){t.removePerson(o.id)}}},[t._v("Remover")])],1)])])],1)}),t._l(t.animals,function(o){return n("l-marker",{key:o.id,attrs:{"lat-lng":o.location}},[n("l-icon",{attrs:{"icon-size":[32,32],"icon-anchor":[16,32],"icon-url":"statics/icons/animal.png"}}),n("l-popup",{staticStyle:{width:"100px"},attrs:{options:{permanent:!0,interactive:!0}}},[n("div",{on:{click:function(t){o.showInfo=!o.showInfo}}},[t._v("\n          "+t._s(o.name)+"\n          "),n("p",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[n("img",{staticStyle:{"max-width":"100px"},attrs:{src:o.photo||"https://myrealdomain.com/images/icone-pessoa-png-6.png"}}),n("br"),t._v("\n            Contato (familiar):"),n("br"),t._v(" "+t._s(o.phone)+"\n            "),n("br"),n("q-btn",{on:{click:function(o){t.removePerson(t.person.id)}}},[t._v("Remover")])],1)])])],1)}),t._l(t.searches,function(o){return n("l-marker",{key:o.id,attrs:{"lat-lng":o.location}},[n("l-icon",{attrs:{"icon-size":[32,32],"icon-anchor":[16,32],"icon-url":"statics/icons/busca.png"}}),n("l-popup",{staticStyle:{width:"100px"},attrs:{options:{permanent:!0,interactive:!0}}},[n("div",{on:{click:function(t){o.showInfo=!o.showInfo}}},[t._v("\n          "+t._s(o.name)+"\n          "),n("p",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}]},[n("br"),t._v("\n            Hora: "),n("br"),t._v(" "+t._s(o.time)+"\n            "),n("br"),t._v("\n            Localização:"),n("br"),t._v(" latitude: "+t._s(o.location.lat)),n("br"),t._v(" longitude: "+t._s(o.location.lng)+"\n            "),n("br")])])])],1)})],2),n("q-modal",{model:{value:t.showAddModal,callback:function(o){t.showAddModal=o},expression:"showAddModal"}},[n("div",{staticStyle:{width:"300px",float:"left",padding:"4%"}},[n("div",{staticClass:"row"},[n("span",[t._v("Cadastrar")])]),n("div",{staticClass:"row"},[n("span",[t._v("Tipo")]),n("q-field",{staticStyle:{width:"100%"}},[n("q-select",{attrs:{options:[{label:"Pessoa",icon:"person",value:"pessoa"},{label:"Animal",icon:"pets",value:"animal"}]},model:{value:t.currentSelection,callback:function(o){t.currentSelection=o},expression:"currentSelection"}})],1)],1),n("div",{staticClass:"row"},[n("q-field",{staticStyle:{width:"100%"}},[n("q-input",{attrs:{"float-label":"Nome"},model:{value:t.form.name,callback:function(o){t.$set(t.form,"name",o)},expression:"form.name"}})],1)],1),n("div",{staticClass:"row"},[n("q-field",{staticStyle:{width:"100%"}},[n("q-input",{attrs:{"float-label":"Telefone de contato (familiar)"},model:{value:t.form.phone,callback:function(o){t.$set(t.form,"phone",o)},expression:"form.phone"}})],1)],1),n("div",{staticClass:"row fix-right",staticStyle:{float:"right"}},[n("q-btn",{attrs:{color:"primary",label:"Cadastrar"},on:{click:t.add}}),n("q-btn",{attrs:{color:"red",label:"Cancelar"},on:{click:function(o){t.showAddModal=!1}}})],1)])])],1)},i=[];e._withStripped=!0;n("7f7f"),n("6b54");var a=n("458e"),r={name:"PageIndex",components:{LMap:a["LMap"],LTileLayer:a["LTileLayer"],LMarker:a["LMarker"],LPopup:a["LPopup"],LTooltip:a["LTooltip"],LIcon:a["LIcon"]},data:function(){return{zoom:14,addAnimalEvent:!1,addPersonEvent:!1,center:a["L"].latLng(-20.135896,-44.123509),showAddModal:!1,currentSelection:"Pessoa",lastPosition:null,watcher:null,isTracking:!1,currentLocation:null,url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png",iconSize:64,attribution:'&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',people:[{id:1,name:"João",photo:"",phone:"31 9999-9999",showInfo:!0,location:a["L"].latLng(-20.135896,-44.123509)},{id:2,name:"Marcelo",photo:"",phone:"31 9999-9999",showInfo:!0,location:a["L"].latLng(-20.145896,-44.123509)}],animals:[],searches:[],currentZoom:14.5,currentCenter:a["L"].latLng(47.41322,-1.219482),showParagraph:!1,mapOptions:{zoomSnap:.5},form:{name:"",phone:"",photo:""}}},computed:{},methods:{genID:function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},add:function(){"pessoa"===this.currentSelection?this.people.push({id:this.genID(),name:this.form.name,phone:this.form.phone,location:this.currentLocation}):this.animals.push({id:this.genID(),name:this.form.name,phone:this.form.phone,location:this.currentLocation}),this.showAddModal=!1},startTracking:function(){navigator.geolocation?(this.watcher=navigator.geolocation.watchPosition(this.registerLocation),this.isTracking=!0):alert("Geo Location not supported by browser")},stopTracking:function(){navigator.geolocation.clearWatch(this.watcher),this.isTracking=!1},registerLocation:function(t){var o={longitude:t.coords.longitude,latitude:t.coords.latitude};if(o!==this.lastPosition){console.log(o),this.lastPosition=o;var n=a["L"].latLng(o.latitude,o.longitude);this.center=n,this.searches.push({id:this.genID(),name:this.form.name,time:(new Date).toLocaleTimeString(),location:n})}},clickMap:function(t){console.log(t),this.currentLocation=t.latlng,this.showAddModal=!0},addPerson:function(){this.currentSelection="Pessoa"},addAnimal:function(){this.currentSelection="Animal"},removePerson:function(t){this.people=this.people.filter(function(o){return o.id!==t})},removeAnimal:function(){},zoomUpdate:function(t){this.currentZoom=t},centerUpdate:function(t){this.currentCenter=t},showLongText:function(){this.showParagraph=!this.showParagraph},innerClick:function(){alert("Click!")}},mounted:function(){console.log(a["LMap"])}},s=r,c=(n("8041"),n("2877")),l=Object(c["a"])(s,e,i,!1,null,null,null);l.options.__file="Index.vue";o["default"]=l.exports},cddb:function(t,o,n){}}]);